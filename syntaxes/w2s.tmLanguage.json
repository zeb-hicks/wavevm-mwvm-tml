{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "Wave2 Assembly",
	"patterns": [
		{ "include": "#comments" },
		{
			"begin": "(\\.memory)",
			"end": "(\\.code)",
			"beginCaptures": { "1": { "name": "support.function" } },
			"endCaptures": { "1": { "name": "support.function" } },
			"patterns": [
				{
					"name": "constant.numeric",
					"match": "\\b[a-fA-F0-9]+\\b"
				},
				{ "include": "#comments" }
			]
		},
		{
			"match": "(\\.code)",
			"name": "support.function"
		},
		{ "include": "#comments" },
		{ "include": "#immediates" },
		{ "include": "#system" },
		{ "include": "#word" },
		{ "include": "#memory" },
		{ "include": "#math" },
		{ "include": "#comparison" },
		{ "include": "#shifts" },
		{ "include": "#bitops" },
		{ "include": "#specops" },
		{ "include": "#registers" },
		{ "include": "#literals" },
		{ "include": "#pointers" }
	],
	"repository": {
		"comments": {
			"patterns": [{
				"name": "comment.line.w2s",
				"match": ";.*$"
			}]
		},
		"immediates": {
			"patterns": [{
				"name": "constant.numeric",
				"match": "^(\\![0-9a-fA-F]{1,4})"
			}]
		},
		"system": {
			"patterns": [{
				"name": "keyword.system.w2s",
				"match": "\\b(nop|slp|sleep|hlt|halt)\\b"
			}]
		},
		"word": {
			"patterns": [{
				"name": "keyword.word.w2s",
				"match": "\\b(wmov|wmove|wswap|wadd|wsub)\\b"
			}]
		},
		"memory": {
			"patterns": [{
				"name": "keyword.memory.w2s",
				"match": "\\b(mov|move|swi|swizzle)\\b"
			}]
		},
		"math": {
			"patterns": [{
				"name": "keyword.math.w2s",
				"match": "\\b(add|adds|sub|subs|eq|equ|ne|neq|car|cry|carry)(\\.[bw])?\\b"
			}]
		},
		"comparison": {
			"patterns": [{
				"name": "keyword.comparison.w2s",
				"match": "\\b(lt|gt|le|lte|ge|gte)(\\.[bw])?\\b"
			}]
		},
		"shifts": {
			"patterns": [{
				"name": "keyword.shifts.w2s",
				"match": "\\b(lsl|asl|rol|asr|lsr|ror)(\\.[bw])?\\b"
			}]
		},
		"bitops": {
			"patterns": [{
				"name": "keyword.bitops.w2s",
				"match": "\\b(all|one|swp|swap|nsrc|notsrc|ndst|notdst|notdest|sand|srcandnotdst|nsad|notsrcanddst|sond|srcornotdst|nsod|notsrcordst|and|or|xor|nand|nor|xnor)(\\.[bw])?\\b"
			}]
		},
		"specops": {
			"patterns": [{
				"name": "keyword.specops.w2s",
				"match": "\\b(hadd|dp|dot|nz|norm|normalize)\\b"
			}]
		},
		"registers": {
			"patterns": [{
				"begin": "((?:r[0-7]|c[0-7]|ri)(?:\\.[xyzw]{1,4})?(?:\\+)?)",
				"beginCaptures": {
					"1": { "name": "constant.character.escape.w2s" }
				},
				"end": "(\\.?)([xyzw]{1,4})?",
				"endCaptures": {
					"1": { "name": "keyword.operator" },
					"2": { "name": "variable.other.constant" }
				}
			}]
		},
		"literals": {
			"name": "constant.numeric.w2s",
			"begin": "[\\b^]\\.(0x[0-9a-fA-F]+|[0-9]+)",
			"end": "[\\b$]"
		},
		"pointers": {
			"patterns": [{
				"begin": "(\\[(?:r[0-7]|c[0-7]|ri)(?:\\.[xyzw]{1,4})?(?:\\+)?\\])",
				"beginCaptures": {
					"1": { "name": "constant.character.escape.w2s" }
				},
				"end": "(\\.?)([xyzw]{1,4})?",
				"endCaptures": {
					"1": { "name": "keyword.operator" },
					"2": { "name": "variable.other.constant" }
				}
			}]
		}
	},
	"scopeName": "source.w2s"
}
